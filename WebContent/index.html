<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>New Age - Start Bootstrap Theme</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom fonts for this template -->
    <link rel="stylesheet" href="vendor/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="vendor/simple-line-icons/css/simple-line-icons.css">
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Catamaran:100,200,300,400,500,600,700,800,900" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Muli" rel="stylesheet">
    <link href="styles/app.css" rel="stylesheet" type="text/css">
    <link href="styles/install-button.css" rel="stylesheet" type="text/css">
    <!-- Plugin CSS -->
    <link rel="stylesheet" href="device-mockups/device-mockups.min.css">
    <!-- Custom styles for this template -->
    <link href="css/new-age.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/jquery.datetimepicker.css"/>
    <!-- calender -->
  
      <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
      <script src="js/jquery.datetimepicker.full.js"></script>
    <!-- calender -->
     <script type="text/javascript">
      $(document).ready(function(){
          $("#record_btn:not(.disabled)").click(function(){
              $(".alert-success,.alert-danger").remove();
              $("#uploadfile_div").hide();
              $("#record_div").show();
          });

          $(".record").click(function(){
              $(".alert-success,.alert-danger").remove();
              $("#upload_btn").addClass('disabled');
          });

          $(".stop").click(function(){
              $(".alert-success,.alert-danger").remove();
              $("#upload_btn").removeClass('disabled');
          });

          $("#upload_btn:not(.disabled)").click(function(){
              $(".alert-success,.alert-danger").remove();
              $("#record_div").hide();
              $("#uploadfile_div").show();
              $("#record_btn").addClass('disabled');              
          });
      });
    </script>
  </head>

  <body id="page-top">

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
      <div class="container">
        <a class="navbar-brand js-scroll-trigger" href="#page-top">Mokri.club</a>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          Menu
          <i class="fa fa-bars"></i>
        </button>
        <!-- DO NOT DELETE THIS -->
        <!--<div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#download">Download</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#features">Features</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#contact">Contact</a>
            </li>
          </ul>
        </div>-->
      </div>
    </nav>

    <header class="masthead">
      <div class="container h-100">
        <div class="row h-100">
          <div class="col-lg-7 my-auto">
            <div class="header-content mx-auto">
              <h3 class="mb-5">Record and Play your Mokri message to someone over a phone call.
                You can upload an audio file of your choice too, but Hey! be easy on the file size.
                Let me guess. 5MB or less than that.</h3>
              <a href="#download" class="btn btn-outline btn-xl js-scroll-trigger" id="record_btn"> Record </a>
              <a href="#download" class="btn btn-outline btn-xl js-scroll-trigger" id="upload_btn"> Upload </a>

            </div>
          </div>

          <!-- Comment/Un comment this block for recorder -->
         <div class="col-lg-5 my-auto" id="record_div">



            <div class="wrapper">

              <header>
                <h3>Record Your First Mokri here</h3>
              </header>

              <section class="main-controls">
                <canvas class="visualizer" height="60px"></canvas>
                <div id="buttons">
                  <button class=" btn btn-outline btn-xl record">Record</button>
                  <button class="btn btn-outline btn-xl stop">Stop</button>
                </div>
              </section>

              <section class="sound-clips">


              </section>

            </div> 


          </div><!--wrapper-->
          <!-- Comment/Un comment this block for recorder -->


          <!-- Comment/Un comment this block for dropzone -->
          <div class="col-lg-5 my-auto" id="uploadfile_div"  style="display:none;" >
             <!--  &lt;!&ndash; Dropzone block begins here &ndash;&gt;
              &lt;!&ndash;teste dropzone com preview&ndash;&gt; -->
              <div class="row" >
                <div class="col s12">
                  &lt;!&ndash; Uploader Dropzone &ndash;&gt;
                  <form id="zdrop" class="fileuploader center-align">
                    <div id="upload-label" style="width: 100px;">
                      <i class="small material-icons">add_box</i>
                    </div>
                    <span class="tittle">Click the Button or Drop Files Here</span>
                  </form>

                  <!-- &lt;!&ndash; Preview collection of uploaded documents &ndash;&gt; -->
                  <div class="preview-container">
                    <div class="collection card" id="previews">
                      <div class="collection-item clearhack valign-wrapper item-template" id="zdrop-template">
                        <div class="left pv zdrop-info" data-dz-thumbnail>
                          <div>
                            <span data-dz-name></span> <span data-dz-size></span>
                          </div>
                          <div class="progress progressbar">
                            <div class="determinate" style="width:0" data-dz-uploadprogress></div>
                          </div>
                          <div class="dz-error-message spancolor"><span data-dz-errormessage></span></div>
                        </div>

                        <div class="secondary-content actions">
                          <a href="#!" data-dz-remove class="btn-floating ph red white-text waves-effect waves-light"><i class="material-icons white-text">clear</i></a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
          </div>
          <!-- Comment/Un comment this block for dropzone -->
<!-- Dropzone block ends here -->

        </div>
      </div>
    </header>

    <!-- DO NOT DELETE THIS CODE BELOW -->
    <!--<section class="download bg-primary text-center" id="download">
      <div class="container">
        <div class="row">
          <div class="col-md-8 mx-auto">
            <h2 class="section-heading">Discover what all the buzz is about!</h2>
            <p>Our app is available on any mobile device! Download now to get started!</p>
            <div class="badges">
              <a class="badge-link" href="#"><img src="img/google-play-badge.svg" alt=""></a>
              <a class="badge-link" href="#"><img src="img/app-store-badge.svg" alt=""></a>
            </div>
          </div>
        </div>
      </div>
    </section>
-->
<!--    <section class="features" id="features">
      <div class="container">
        <div class="section-heading text-center">
          <h2>Unlimited Features, Unlimited Fun</h2>
          <p class="text-muted">Check out what you can do with this app theme!</p>
          <hr>
        </div>
        <div class="row">
          <div class="col-lg-4 my-auto">
            <div class="device-container">
              <div class="device-mockup iphone6_plus portrait white">
                <div class="device">
                  <div class="screen">
                    &lt;!&ndash; Demo image for screen mockup, you can put an image here, some HTML, an animation, video, or anything else! &ndash;&gt;
                    <img src="img/demo-screen-1.jpg" class="img-fluid" alt="">
                  </div>
                  <div class="button">
                    &lt;!&ndash; You can hook the "home button" to some JavaScript events or just remove it &ndash;&gt;
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-8 my-auto">
            <div class="container-fluid">
              <div class="row">
                <div class="col-lg-6">
                  <div class="feature-item">
                    <i class="icon-screen-smartphone text-primary"></i>
                    <h3>Device Mockups</h3>
                    <p class="text-muted">Ready to use HTML/CSS device mockups, no Photoshop required!</p>
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="feature-item">
                    <i class="icon-camera text-primary"></i>
                    <h3>Flexible Use</h3>
                    <p class="text-muted">Put an image, video, animation, or anything else in the screen!</p>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-6">
                  <div class="feature-item">
                    <i class="icon-present text-primary"></i>
                    <h3>Free to Use</h3>
                    <p class="text-muted">As always, this theme is free to download and use for any purpose!</p>
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="feature-item">
                    <i class="icon-lock-open text-primary"></i>
                    <h3>Open Source</h3>
                    <p class="text-muted">Since this theme is MIT licensed, you can use it commercially!</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>-->

   <!-- <section class="cta">
      <div class="cta-content">
        <div class="container">
          <h2>Stop waiting.<br>Start building.</h2>
          <a href="#contact" class="btn btn-outline btn-xl js-scroll-trigger">Let's Get Started!</a>
        </div>
      </div>
      <div class="overlay"></div>
    </section>-->

    <!--<section class="contact bg-primary" id="contact">
      <div class="container">
        <h2>We
          <i class="fa fa-heart"></i>
          new friends!</h2>
        <ul class="list-inline list-social">
          <li class="list-inline-item social-twitter">
            <a href="#">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
          <li class="list-inline-item social-facebook">
            <a href="#">
              <i class="fa fa-facebook"></i>
            </a>
          </li>
          <li class="list-inline-item social-google-plus">
            <a href="#">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        </ul>
      </div>
    </section>
-->

    <!-- Button HTML (to Trigger Modal) -->
    <!-- <a href="#myModal" role="button" class="btn btn-large btn-primary" data-toggle="modal">Launch Demo Modal</a> -->

    <footer>
      <div class="container">
        <p>&copy; 2017 Mokri.club</p>
        <ul class="list-inline">
          <li class="list-inline-item">
            <a href="https://www.linkedin.com/in/vinodh-thiagarajan/">Vinodh Thiagarajan</a>
          </li>
        </ul>
      </div>
    </footer>


    <!-- <script src="vendor/jquery/jquery.min.js"></script> -->
    <script src="vendor/popper/popper.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.min.js"></script>

     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.js"></script>



    <!-- Bootstrap core JavaScript -->
    <script src="scripts/mediaDevices-getUserMedia-polyfill.js"></script>
    <!-- Below is your custom application script -->
    <script src="scripts/app.js"></script>
    <!-- Plugin JavaScript -->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/materialize/0.96.1/js/materialize.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/dropzone/4.0.1/dropzone.js'></script>
    <script  src="js/index.js"></script>
    <!-- Custom scripts for this template -->
    <script src="js/new-age.min.js"></script>

 


  <div id="myModal" class="modal fade">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          <h4 class="modal-title">Confirmation</h4>
        </div>
        <div class="modal-body">
          <form role="form" id="makeCall">
            <div class="form-group">
              <label for="phoneNumber">What number you want to call ?</label>
              <input type="tel" class="form-control" id="phoneNumber" name="phoneNumber" placeholder="Enter the number with country code." required />
            </div>
            <div class="form-group">
              <label for="exampleInputPassword1">Choose the Date and Time for Scheduling</label>
              <input type="text" class="form-control some_class" id="yyyymmddhhmmString" name="yyyymmddhhmmString" placeholder="This must be a calendar with time" required />
              <input type="hidden" name="recordedFileUrl" id="recordedFileUrl" required>
              <input type="submit" id="submitCall" style="display: none;">
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          <button type="button" id="mokriit" class="btn btn-primary">Mokri It !</button>
        </div>
      </div>
    </div>
  </div>      
  <script type="text/javascript">
    $.datetimepicker.setLocale('en');
    $('.some_class').datetimepicker();

    $(document).ready(function() {
        $(document).on("click", "#mokriit", function() {
            $("#submitCall").click();
        });

        $(document).on("submit", "#makeCall", function(e) {
            e.preventDefault();

            $("#mokriit").attr("disabled", "disabled");
            $(".alert-success,.alert-danger").remove();

            $.ajax({
                url: 'https://vinodh.adaptainer.io/services/makeTheCall',
                type: 'POST',
                data: $("#makeCall").serializeArray(),
                success: function() {
                    $("#myModal").modal('hide');
                    $("#mokriit").removeAttr("disabled");
                    $(".sound-clips").append('<div class="alert alert-success"><strong>Success!</strong> Call Scheduled</div>');
                    $(".preview-container").append('<div class="alert alert-success" style="float:left;width:100%;margin-top: 10px;"><strong>Success!</strong> Call Scheduled</div>');
                },
                error: function() {
                    $("#myModal").modal('hide');
                    $("#mokriit").removeAttr("disabled");
                    $(".sound-clips").append('<div class="alert alert-danger"><strong>Error!</strong> Please try again</div>');
                    $(".preview-container").append('<div class="alert alert-danger" style="float:left;width:100%;margin-top: 10px;"><strong>Error!</strong> Please try again</div>');
                }
            });
        });        
    });
  </script>
  </body>
</html>